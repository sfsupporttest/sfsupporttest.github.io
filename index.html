<!DOCTYPE html>
<html>
    
      <style>
    html {
      background-image: url('coffee-salesforce.jpeg');
      background-repeat: norepeat;
      background-size: cover;
    }
  iframe{
    width: 100%;
    height:100%;
    border: none;
  }
  </style>
  <head>
    <title>Salesforce Chat - Iframes POC</title>
  </head>
    
    <script type="text/javascript" src="path/to/prototype.js"></script>
  <script type="application/javascript">
      
      let details = navigator.userAgent;
      
      /* Creating a regular expression
      containing some mobile devices keywords
      to search it in details string*/
      let regexp = /android|iphone|kindle|ipad/i;
      
      /* Using test() method to search regexp in details
      it returns boolean value*/
      let isMobileDevice = regexp.test(details);
      
      if (isMobileDevice) {
         document.write("<h3>Its a Mobile Device !</h3>");
          // chatFrame.style.height = 1400+"px" ;
          // chatFrame.style.position = "relative";
          
           window.onmessage = function(e) {
               console.log("e.data" + e.data);
               console.log("e" + e);
      console.log(e.data.hasOwnProperty("frameHeight"));
      if (e.data.hasOwnProperty("frameHeight") ) {
      //  var chatFrame = document.getElementById("chatFrame");
     //   chatFrame.style.height = e.data.frameHeight + 20 + "px";
      //  chatFrame.style.width = e.data.frameWidth + 20 + "px";
          
          var divFrame = document.getElementById("divframe");
          console.log(e.data.frameHeight);
          console.log(e.data.frameWidth);
          let h = e.data.frameHeight;
           divFrame.style.height = h ;
          
          divFrame.style.width = e.data.frameWidth ;
          console.log(divFrame.style.height);
          console.log(divFrame.style.width);
           var chatFrame = document.getElementById("chatFrame");
        chatFrame.style.height = divFrame.style.height;
        chatFrame.style.width = divFrame.style.width;
          
          if (e.data.name === 'minimize'){
             
         document.getElementsByTagName("div").divframe.style.height =  'unset';
              document.getElementsByTagName("div").divframe.style.width =  'unset';
         
      }
               
                 
      }
           }
          
      } else {
         document.write("<h3>Its a Desktop !</h3>");
          
             window.onmessage = function(e) {
      console.log(e.data.hasOwnProperty("frameHeight"));
      if (e.data.hasOwnProperty("frameHeight")) {
        var chatFrame = document.getElementById("chatFrame");
        chatFrame.style.height = e.data.frameHeight + 20 + "px";
        chatFrame.style.width = e.data.frameWidth + 20 + "px";
      }
                 
      }
      
 
    };
  </script>
   <body>
    <div id="divframe" style ="bottom: 0px; right: 0px; position: absolute;">
      <iframe id="chatFrame" src= "Child.html"></iframe>
    </div>
  </body>
    

</html>
  
